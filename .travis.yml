sudo: required
language: c
env:
    matrix:
        - DOCKER_IMAGE=nmstate/centos7-nmstate-dev TEST_TYPE=integ
        - DOCKER_IMAGE=nmstate/fedora-nmstate-dev TEST_TYPE=integ
        - DOCKER_IMAGE=nmstate/fedora-nmstate-dev TEST_TYPE=tox_code_style
        - DOCKER_IMAGE=nmstate/fedora-nmstate-dev TEST_TYPE=tox_py27
        - DOCKER_IMAGE=nmstate/fedora-nmstate-dev TEST_TYPE=tox_py3

addons:
  apt:
    packages:
        - realpath

services:
    - docker

before_install:
    - docker pull $DOCKER_IMAGE

script:
    - sudo ./automation/run-tests.sh
